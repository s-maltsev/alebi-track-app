[{"name":"/AddSession","nodes":[{"id":"d984a426-f181-648d-cf1f-3547a325862f","type":"Group","parameters":{},"ports":[],"children":[{"id":"41e77a58-67e3-4424-725f-69793293ebb6","type":"Group","parameters":{"zIndex":1,"backgroundColor":"#1F1F1FBF","opacity":1,"mixBlendMode":"normal"},"ports":[],"children":[]},{"id":"e0247f76-6873-94fe-04a8-2aecfb5a3b1c","type":"Group","parameters":{"mounted":true,"zIndex":2,"backgroundColor":"White","position":"absolute","sizeMode":"contentHeight","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"width":{"value":80,"unit":"%"},"alignX":"center","paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"marginTop":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"43059dcc-4f4e-9c4f-64d5-8cc699955242","type":"/Date Picker","parameters":{"Show Label":true,"Label":"Дата","Margin Left":{"value":10,"unit":"px"},"Margin Right":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"29971f63-d609-7e87-5535-fc739ae754c3","type":"/Time Picker","parameters":{"Width":{"value":100,"unit":"%"},"Margin Left":{"value":10,"unit":"px"},"Margin Right":{"value":10,"unit":"px"},"Label":"Время"},"ports":[],"children":[]},{"id":"b9ae83e5-d4ee-22f0-6c9e-e7ec8b9fb28a","type":"net.noodl.controls.options","parameters":{"useLabel":true,"label":"Место","textStyle":"Label Small","sizeMode":"explicit","paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"alignX":"center","width":{"value":95,"unit":"%","isFixed":false}},"ports":[],"children":[]},{"id":"0412119c-65fe-0725-8a93-97484520de12","type":"net.noodl.controls.options","parameters":{"useLabel":true,"label":"Погода","textStyle":"Label Small","sizeMode":"explicit","paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"alignX":"center","width":{"value":95,"unit":"%","isFixed":false}},"ports":[],"children":[]},{"id":"1725c561-c680-a7c3-3071-e53628954c09","type":"net.noodl.controls.button","parameters":{"alignX":"center","marginTop":{"value":20,"unit":"px"},"backgroundColor":"Alebi - red","label":"Готово"},"ports":[],"children":[]}]}]},{"id":"cf405134-eeea-53c9-77c6-74b0da202d0a","type":"NavigationClosePopup","parameters":{"closeActions":"Save,Cancel","results":"date,location,weather,name"},"ports":[],"children":[]},{"id":"78ff0564-fb34-d0cf-8b78-4594651f4778","type":"DbCollection2","parameters":{"collectionName":"Locations"},"ports":[],"children":[]},{"id":"8798003c-d939-de29-d6ec-645c37064815","type":"Map Collection","parameters":{"mapScript":"map({\n\t'Label': function (item) { return item.name },\n\t'Value': function (item) { return item.id },\n})"},"ports":[],"children":[]},{"id":"c378e517-1a3b-dbca-2a8d-c4131c9f2325","type":"Static Data","parameters":{"type":"csv","csv":"Label,Value\r\nЯсно,1\r\nОблачно,2"},"ports":[],"children":[]},{"id":"a7d899b0-3f38-3135-e59c-7b28699d7e3f","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"n5yh","label":"date"},{"id":"zy6n","label":"hours"},{"id":"38fk","label":"minutes"}],"intype-date":"date","intype-hours":"string","scriptOutputs":[{"id":"0mjd","label":"date_merged"}],"functionScript":"let date = Inputs.date || new Date();\r\n\r\nlet hours = Inputs.hours || 0;\r\nlet minutes = Inputs.minutes || 0;\r\n\r\nconst dateObject = date;\r\n\r\ndateObject.setHours(hours, minutes, 0, 0);\r\n\r\nOutputs.date_merged = dateObject;","outtype-date_merged":"date"},"ports":[{"name":"outtype-date_merged","displayName":"Type","editorName":"date_merged | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"0mjd","index":4},{"name":"out-date_merged","displayName":"date_merged","plug":"output","type":"date","group":"Outputs","index":5},{"name":"intype-date","displayName":"Type","editorName":"date | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"n5yh","index":6},{"name":"in-date","displayName":"date","plug":"input","type":"date","group":"Inputs","index":7},{"name":"intype-hours","displayName":"Type","editorName":"hours | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"zy6n","index":8},{"name":"in-hours","displayName":"hours","plug":"input","type":"string","group":"Inputs","index":9},{"name":"intype-minutes","displayName":"Type","editorName":"minutes | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"38fk","index":10},{"name":"in-minutes","displayName":"minutes","plug":"input","type":"string","group":"Inputs","index":11}],"children":[]},{"id":"e110d60c-fb55-0e39-84b8-14c06f6f6168","type":"JavaScriptFunction","parameters":{"scriptOutputs":[{"id":"k083","label":"dateOut"}],"outtype-Today":"date","functionScript":"const date = (Inputs.dateIn === null)?new Date():Inputs.dateIn;\r\n\r\nOutputs.dateOut = date;","scriptInputs":[{"id":"pn66","label":"dateIn"}],"intype-date":"date"},"ports":[{"name":"outtype-dateOut","displayName":"Type","editorName":"dateOut | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"k083","index":4},{"name":"out-dateOut","displayName":"dateOut","plug":"output","type":"*","group":"Outputs","index":5},{"name":"intype-dateIn","displayName":"Type","editorName":"dateIn | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"pn66","index":6},{"name":"in-dateIn","displayName":"dateIn","plug":"input","type":"string","group":"Inputs","index":7}],"children":[]},{"id":"ee17dbfe-f159-3545-82c9-9afb1b4dd860","type":"Date To String","parameters":{"formatString":"{hours}"},"ports":[],"children":[]},{"id":"7048f0d0-a8fe-148f-4a51-a67c12ed3914","type":"DbModel2","parameters":{"collectionName":"Sessions"},"ports":[],"children":[]},{"id":"a5a02a55-d124-e913-ba5e-cced349e46e0","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"41e77a58-67e3-4424-725f-69793293ebb6","sourcePort":"onClick","targetId":"cf405134-eeea-53c9-77c6-74b0da202d0a","targetPort":"closeAction-Cancel"},{"sourceId":"41e77a58-67e3-4424-725f-69793293ebb6","sourcePort":"onClick","targetId":"cf405134-eeea-53c9-77c6-74b0da202d0a","targetPort":"close"},{"sourceId":"78ff0564-fb34-d0cf-8b78-4594651f4778","sourcePort":"items","targetId":"8798003c-d939-de29-d6ec-645c37064815","targetPort":"items"},{"sourceId":"8798003c-d939-de29-d6ec-645c37064815","sourcePort":"items","targetId":"b9ae83e5-d4ee-22f0-6c9e-e7ec8b9fb28a","targetPort":"items"},{"sourceId":"c378e517-1a3b-dbca-2a8d-c4131c9f2325","sourcePort":"items","targetId":"0412119c-65fe-0725-8a93-97484520de12","targetPort":"items"},{"sourceId":"1725c561-c680-a7c3-3071-e53628954c09","sourcePort":"onClick","targetId":"cf405134-eeea-53c9-77c6-74b0da202d0a","targetPort":"closeAction-Save"},{"sourceId":"1725c561-c680-a7c3-3071-e53628954c09","sourcePort":"onClick","targetId":"cf405134-eeea-53c9-77c6-74b0da202d0a","targetPort":"close"},{"sourceId":"0412119c-65fe-0725-8a93-97484520de12","sourcePort":"value","targetId":"cf405134-eeea-53c9-77c6-74b0da202d0a","targetPort":"result-weather"},{"sourceId":"b9ae83e5-d4ee-22f0-6c9e-e7ec8b9fb28a","sourcePort":"value","targetId":"cf405134-eeea-53c9-77c6-74b0da202d0a","targetPort":"result-location"},{"sourceId":"43059dcc-4f4e-9c4f-64d5-8cc699955242","sourcePort":"Value","targetId":"a7d899b0-3f38-3135-e59c-7b28699d7e3f","targetPort":"in-date"},{"sourceId":"29971f63-d609-7e87-5535-fc739ae754c3","sourcePort":"Hours","targetId":"a7d899b0-3f38-3135-e59c-7b28699d7e3f","targetPort":"in-hours"},{"sourceId":"29971f63-d609-7e87-5535-fc739ae754c3","sourcePort":"Minutes","targetId":"a7d899b0-3f38-3135-e59c-7b28699d7e3f","targetPort":"in-minutes"},{"sourceId":"a7d899b0-3f38-3135-e59c-7b28699d7e3f","sourcePort":"out-date_merged","targetId":"cf405134-eeea-53c9-77c6-74b0da202d0a","targetPort":"result-date"},{"sourceId":"1725c561-c680-a7c3-3071-e53628954c09","sourcePort":"onClick","targetId":"a7d899b0-3f38-3135-e59c-7b28699d7e3f","targetPort":"run"},{"sourceId":"ee17dbfe-f159-3545-82c9-9afb1b4dd860","sourcePort":"currentValue","targetId":"29971f63-d609-7e87-5535-fc739ae754c3","targetPort":"Hours"},{"sourceId":"a5a02a55-d124-e913-ba5e-cced349e46e0","sourcePort":"sessionId","targetId":"7048f0d0-a8fe-148f-4a51-a67c12ed3914","targetPort":"modelId"},{"sourceId":"e110d60c-fb55-0e39-84b8-14c06f6f6168","sourcePort":"out-dateOut","targetId":"43059dcc-4f4e-9c4f-64d5-8cc699955242","targetPort":"Value"},{"sourceId":"7048f0d0-a8fe-148f-4a51-a67c12ed3914","sourcePort":"prop-date","targetId":"e110d60c-fb55-0e39-84b8-14c06f6f6168","targetPort":"in-dateIn"},{"sourceId":"e110d60c-fb55-0e39-84b8-14c06f6f6168","sourcePort":"out-dateOut","targetId":"ee17dbfe-f159-3545-82c9-9afb1b4dd860","targetPort":"input"}],"ports":[{"name":"sessionId","type":{"name":"string","allowConnectionsOnly":true},"group":"General","plug":"input","index":1}],"roots":["d984a426-f181-648d-cf1f-3547a325862f"]},{"name":"/Date Picker","nodes":[{"id":"f006c30c-8f69-7d15-79ad-cbf1136aa685","type":"Group","parameters":{"height":{"value":40,"unit":"px"},"borderColor":"#999","flexDirection":"column","sizeMode":"contentHeight","borderWidth":{"value":2,"unit":"px"},"styleCss":"cursor:pointer;"},"ports":[],"children":[{"id":"f082d998-6ed7-07c2-80bd-a1c0bf0cfdd8","type":"Text","parameters":{"textStyle":"Label Small","marginBottom":{"value":4,"unit":"px"},"text":"Label","color":"Grey - 700","sizeMode":"contentSize"},"ports":[],"children":[]},{"id":"525cbd7a-6feb-4e3e-b148-5c60520ec896","type":"Group","parameters":{"height":{"value":40,"unit":"px"}},"ports":[],"children":[{"id":"79dfc685-914d-eac9-6d99-69eacad19605","type":"Group","parameters":{"position":"absolute","sizeMode":"contentSize","alignY":"center","styleCss":"cursor:pointer;"},"ports":[],"children":[{"id":"7535f07e-9865-56aa-3adc-bddcaa96ea82","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSize":{"value":20,"unit":"px"},"iconColor":"Grey - 700","marginLeft":{"value":12,"unit":"px"}},"ports":[],"children":[]}]},{"id":"a652b88a-1ecc-5768-78ae-c3c50dea86d4","type":"net.noodl.controls.textinput","parameters":{"useLabel":false,"placeholder":"MMM DD, YYYY","alignY":"center","paddingLeft":{"value":40,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"height":{"value":100,"unit":"%"},"useIcon":false,"iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSpacing":{"value":8,"unit":"px"}},"stateParameters":{"focused":{"iconColor":"Primary"}},"ports":[],"children":[]}]}]},{"id":"fda4665b-52fa-7882-29a9-9de170bef4d3","type":"Javascript2","parameters":{"code":"function mobileAndTabletCheck() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n}\n\nfunction isMobile() {\n    return mobileAndTabletCheck()\n}\n\nconst scriptUrl = \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/js/datepicker-full.min.js\"\nconst cssUrl =  \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/css/datepicker.min.css\"\n\nfunction injectDatePicker(onload) {\n    if (document.querySelectorAll('#--ndl-datepicker-datepicker-js--').length === 0) {\n        window.__ndl_datepicker_onload = [onload]\n\n        var script = document.createElement('script');\n        script.id = \"--ndl-datepicker-datepicker-js--\"\n        script.setAttribute('src', scriptUrl);\n        script.onload = () => {\n            window.__ndl_datepicker_onload.forEach(cb => cb())\n            window.__ndl_datepicker_onload = []\n        }\n        document.head.appendChild(script)\n    }\n    else {\n        if (window.__ndl_datepicker_onload.length > 0) window.__ndl_datepicker_onload.push(onload)\n        else onload()\n    }\n}\n\nfunction injectDatePickerStyles() {\n    const datePickerStyles = `\n        .ndl-datepicker-native-input {\n            display: block;\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            cursor: pointer;\n            min-width: 100%;\n            margin: 0;\n            padding: 0;\n            border: 0;\n            border-radius: 0;\n        }\n        .ndl-datepicker-native-input::-webkit-calendar-picker-indicator {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            padding: 0;\n            cursor: pointer;\n        }\n\n        .datepicker {\n            display:none;\n            font-family: Roboto, sans-serif;\n            border: 1px solid ${Script.Inputs.Accent};\n            border-radius: 4px;\n        }\n\n        .datepicker-picker {\n            background-color: ${Script.Inputs.Background};\n            padding: 24px;\n        }\n\n        .datepicker-header {\n            padding-bottom: 14px;\n        }\n\n        .datepicker-header .datepicker-controls {\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .datepicker-header .datepicker-controls .button {\n            background-color: transparent;\n            color: ${Script.Inputs.Text};\n        }\n\n        .datepicker-header .datepicker-controls button.button:focus,\n        .datepicker-header .datepicker-controls button.button:hover {\n            background-color: ${Script.Inputs.HoverDateBackground};\n            color: ${Script.Inputs.HoverDateText};\n        }\n\n        .datepicker-controls .button.view-switch {\n            border: 1px solid ${Script.Inputs.Text};\n            flex: 0 0 180px;\n        }\n\n        .days-of-week .dow {\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 16px;\n            font-weight: 400;\n            color: ${Script.Inputs.Accent}\n        }\n\n        .datepicker-grid {\n            width: 315px;\n        }\n\n        .datepicker-grid .datepicker-cell.day {\n            border-radius: 50%;\n            width: 45px;\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .datepicker-grid .datepicker-cell {\n            color: ${Script.Inputs.Text}\n            font-size: 16px;\n        }\n\n        .datepicker-grid .datepicker-cell.next,\n        .datepicker-grid .datepicker-cell.prev {\n            color: ${Script.Inputs.TextMuted};\n        }\n\n        .datepicker-grid .datepicker-cell.focused {\n        }\n\n        .datepicker-grid .datepicker-cell.selected {\n            background-color:  ${Script.Inputs.SelectedDateBackgroud};\n            color: ${Script.Inputs.SelectedDateText};\n        }\n\n        .datepicker-grid .datepicker-cell:hover,\n        .datepicker-grid .datepicker-cell:focus {\n            color: ${Script.Inputs.HoverDateText};\n            background-color: ${Script.Inputs.HoverDateBackground};\n        }\n`\n\n    if(!isMobile()) { // This sheet is only needed if we are on desktop\n        if(document.querySelectorAll('#--ndl-datepicker-sheet--').length === 0) {\n            let addSheet = document.createElement('link');\n            addSheet.id = \"--ndl-datepicker-sheet--\"\n            addSheet.setAttribute('rel', 'stylesheet');\n            addSheet.setAttribute('href',cssUrl);\n            document.head.appendChild(addSheet);\n        }\n    }\n\n    if(document.querySelectorAll('#--ndl-datepicker-styles--').length === 0) {\n        const styles = document.createElement('style')\n        styles.id = '--ndl-datepicker-styles--'\n        styles.innerHTML = datePickerStyles\n        document.head.append(styles)\n    }\n}\n\n// Format a date object into a string\nfunction formatDate(date) {\n    if(!(date instanceof Date)) return\n\n    const months = [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ]\n\n    let newDateString = months[date.getMonth()] + ' ' +date.getDate() + ', ' + date.getFullYear()\n\n    return newDateString\n}\n\n// Parse a date string in the format we use into a date object\n// if possible\nfunction parseDate(_dateString) {\n    // No valid date, return todays date\n    if(_dateString === undefined || _dateString.length < 3) \n        return null\n\n    let dateString = _dateString.trim().toLowerCase()\n\n    const months = {\n        'jan':0,\n        'feb':1,\n        'mar':2,\n        'apr':3,\n        'may':4,\n        'jun':5,\n        'jul':6,\n        'aug':7,\n        'sep':8,\n        'oct':9,\n        'nov':10,\n        'dec':11\n    }\n\n    let month = months[dateString.substring(0,3)]\n    if(month === undefined) return new Date() // Not a valid month\n\n    // Remove month\n    dateString = dateString.substring(3)\n    dateString = dateString.trim()\n\n    let sepIndex = dateString.indexOf(',')\n    let dayString = dateString.substring(0,sepIndex==-1?dateString.length:sepIndex)\n\n    let day = parseInt(dayString) || 1\n\n    let year = (new Date()).getFullYear()\n    if(sepIndex !== -1) {\n        dateString = dateString.substring(sepIndex+1)\n        dateString = dateString.trim()\n        \n        if(dateString.length === 4)\n        year = parseInt(dateString)\n    }\n\n    return new Date(year,month,day)\n}\n\n// Compare two dates, ignoring the time\nfunction compareDates(a,b) {\n    if(a.getFullYear() === b.getFullYear() && a.getDate() === b.getDate() && a.getMonth() === b.getMonth())\n        return true\n\n    return false\n}\n\nvar dateInput,datepicker,datePopup\n\nconst TextInputFocused = () => {\n    Component.Object.TextInputIsFocused = true\n\n    // If the text input is focused and we are not running on a mobile device\n    // launch the popup\n    if(!isMobile()) {\n        const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        const rect = textInput.getBoundingClientRect()\n\n      //  let top = rect.bottom + Script.Inputs.PopupMarginTop\n      //  let left = rect.left + Script.Inputs.PopupMarginRight\n\n        datePopup = document.createElement('div')\n        datePopup.style.zIndex = 100\n        datePopup.style.position = 'absolute'\n        datePopup.style.border = \"1px solid \" + Script.Inputs.BorderColor\n        datePopup.style.borderRadius = \"4px\"\n        datePopup.style.top = (rect.bottom + Script.Inputs.PopupMarginTop) + 'px'\n        datePopup.style.left = (rect.left + Script.Inputs.PopupMarginRight) + 'px'\n        document.body.appendChild(datePopup)\n\n        // This is running on desktop, install the vanilla js\n        injectDatePicker(() => {\n            // Script is loaded\n\n            datepicker = new Datepicker(datePopup, {\n                prevArrow:'<',\n                nextArrow:'>',\n            }); \n\n            // adjuste position if outside of screen\n            const rect = datePopup.getBoundingClientRect()\n            if(rect.top + rect.height > window.innerHeight) {\n                datePopup.style.top = Math.max(0,window.innerHeight - rect.height) + 'px'\n            }\n            if(rect.left + rect.width > window.innerWidth) {\n                datePopup.style.left = Math.max(0,window.innerWidth - rect.width) + 'px'\n            }\n         \n           \n\n            if(Component.Object.Date !== undefined) {\n                datepicker.setDate(Component.Object.Date)\n            }\n\n            datePopup.addEventListener('changeDate',() => {\n                // The picker reports a changed date\n                \n            })\n\n            datePopup.addEventListener('click',(ev) => {\n                // The user have clicked a date in the popup\n                var date = datepicker.getDate()\n\n                // If the date is a new date\n                if(date && (!Component.Object.Date || !compareDates(Component.Object.Date,date))) {\n                    \n                    // Blur the text input so the date can be updated\n                    Component.Object.Date = date\n                   \n                    textInput.blur()\n                }\n            })\n            \n        })\n\n    }\n}\n\nconst TextInputBlurred = () => {\n    Component.Object.TextInputIsFocused = false\n\n    const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n    const dateString = textInput.value\n\n    const date = parseDate(dateString)\n    Component.Object.Date = date\n    Script.Outputs.DateSelected()\n\n    document.body.removeChild(datePopup)\n}\n\nconst DateStringChanged = (e) => {\n    const dateString = e.target.value\n\n    if(Component.Object.TextInputIsFocused) {\n        const date = parseDate(dateString)\n\n        // The date have changed in the component object, update the\n        // date picker\n        if(datepicker !== undefined) {\n            datepicker.setDate(date)\n        }\n\n        if(dateInput !== undefined) {\n            dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n        }\n    }\n}\n\nScript.Inputs = {\n    PopupMarginRight: 'number',\n    PopupMarginTop: 'number',\n    Text: 'color',\n    TextMuted: 'color',\n    Accent: 'color',\n    Background: 'color',\n    SelectedDateBackground: 'color',\n    SelectedDateText: 'color',\n    HoverDateBackground: 'color',\n    HoverDateText: 'color'\n}\n\nScript.Signals.DidMount = () => {\n    Script.Outputs.IsMobile = isMobile()\n\n    injectDatePickerStyles()\n\n    // Register blur / focus listeners\n    if(Script.Inputs.TextInput.getDOMElement() !== undefined) {\n        var textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        textInput.addEventListener('focus',TextInputFocused)\n        textInput.addEventListener('blur',TextInputBlurred)\n        textInput.addEventListener('keydown',(e) => {\n            if(e.keyCode===13) textInput.blur()\n        })\n        textInput.addEventListener('keyup',DateStringChanged)\n    }\n\n    // If there is a date set from start, format it \n    if(Component.Object.Date !== undefined) {\n        let formattedDate = formatDate(Component.Object.Date)\n        Component.Object['Formatted Date'] = formattedDate\n    }\n\n\n    Component.Object.on('change',(ev) => {\n        if(ev.name === 'Date') {\n            const date = Component.Object.Date\n            // The date have changed in the component object, update the\n            // date picker\n            if(datepicker !== undefined) {\n                datepicker.setDate(date)\n            }\n\n            if(dateInput !== undefined) {\n                dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n            }\n\n            let formattedDate = formatDate(date)\n            textInput.value = formattedDate\n            Component.Object['Formatted Date'] = formattedDate\n        }\n    })\n\n    if(isMobile()) {\n        // On Mobile create a native date input hidden\n        // under the icon, clicking it will show the\n        // native picker\n        const elem = Script.Inputs.TextInput.getDOMElement()\n\n        dateInput = document.createElement('input')\n        dateInput.className = 'ndl-datepicker-native-input'\n\n        elem.parentNode.appendChild(dateInput)\n\n        dateInput.type = \"date\"\n\n        dateInput.onchange = () => {\n            var date = new Date(dateInput.value)\n            Component.Object.Date = date\n            Script.Outputs.DateSelected()\n        }\n    }\n}","scriptInputs":[],"PopupRightMargin":-44,"PopupMarginRight":-42,"PopupMarginTop":4,"Text":"Grey - 700","Accent":"Primary","SelectedDateBackground":"Primary","SelectedDateText":"White","HoverDateBackground":"Grey - 300","HoverDateText":"Grey - 900","BorderColor":"Primary","Background":"White","TextMuted":"Grey - 400"},"ports":[{"name":"PopupMarginRight","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"PopupMarginTop","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"Text","plug":"input","type":{"name":"color"},"group":"Inputs","index":7},{"name":"TextMuted","plug":"input","type":{"name":"color"},"group":"Inputs","index":8},{"name":"Accent","plug":"input","type":{"name":"color"},"group":"Inputs","index":9},{"name":"Background","plug":"input","type":{"name":"color"},"group":"Inputs","index":10},{"name":"SelectedDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":11},{"name":"SelectedDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":12},{"name":"HoverDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":13},{"name":"HoverDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":14},{"name":"DidMount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":15},{"name":"SelectedDateBackgroud","displayName":"SelectedDateBackgroud","plug":"input","type":"*","group":"Inputs","index":16},{"name":"TextInput","displayName":"TextInput","plug":"input","type":"*","group":"Inputs","index":17},{"name":"BorderColor","displayName":"BorderColor","plug":"input","type":"*","group":"Inputs","index":18},{"name":"DateSelected","displayName":"DateSelected","plug":"output","type":"signal","group":"Outputs","index":19},{"name":"IsMobile","displayName":"IsMobile","plug":"output","type":"*","group":"Outputs","index":20}],"children":[]},{"id":"f2dab201-fcc0-1919-bc55-6dc8004873f9","type":"net.noodl.ComponentObject","parameters":{"properties":"Date,Formatted Date"},"ports":[],"children":[]},{"id":"f3ae7598-5394-57ae-a8e4-52d89dcbce47","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"af81bbf6-8559-f39f-4ccc-76e686700ea5","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"f006c30c-8f69-7d15-79ad-cbf1136aa685","sourcePort":"didMount","targetId":"fda4665b-52fa-7882-29a9-9de170bef4d3","targetPort":"DidMount"},{"sourceId":"f3ae7598-5394-57ae-a8e4-52d89dcbce47","sourcePort":"Value","targetId":"f2dab201-fcc0-1919-bc55-6dc8004873f9","targetPort":"value-Date"},{"sourceId":"f2dab201-fcc0-1919-bc55-6dc8004873f9","sourcePort":"value-Date","targetId":"af81bbf6-8559-f39f-4ccc-76e686700ea5","targetPort":"Value"},{"sourceId":"fda4665b-52fa-7882-29a9-9de170bef4d3","sourcePort":"DateSelected","targetId":"af81bbf6-8559-f39f-4ccc-76e686700ea5","targetPort":"Changed"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Align Y","targetId":"f006c30c-8f69-7d15-79ad-cbf1136aa685","targetPort":"alignY"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Align X","targetId":"f006c30c-8f69-7d15-79ad-cbf1136aa685","targetPort":"alignX"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Margin Top","targetId":"f006c30c-8f69-7d15-79ad-cbf1136aa685","targetPort":"marginTop"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Margin Bottom","targetId":"f006c30c-8f69-7d15-79ad-cbf1136aa685","targetPort":"marginBottom"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Margin Left","targetId":"f006c30c-8f69-7d15-79ad-cbf1136aa685","targetPort":"marginLeft"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Margin Right","targetId":"f006c30c-8f69-7d15-79ad-cbf1136aa685","targetPort":"marginRight"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Position","targetId":"f006c30c-8f69-7d15-79ad-cbf1136aa685","targetPort":"position"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Width","targetId":"f006c30c-8f69-7d15-79ad-cbf1136aa685","targetPort":"width"},{"sourceId":"a652b88a-1ecc-5768-78ae-c3c50dea86d4","sourcePort":"this","targetId":"fda4665b-52fa-7882-29a9-9de170bef4d3","targetPort":"TextInput"},{"sourceId":"f2dab201-fcc0-1919-bc55-6dc8004873f9","sourcePort":"value-Formatted Date","targetId":"a652b88a-1ecc-5768-78ae-c3c50dea86d4","targetPort":"startValue"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Label","targetId":"f082d998-6ed7-07c2-80bd-a1c0bf0cfdd8","targetPort":"text"},{"sourceId":"2a5035fb-d0a3-2eb7-034b-65c8a31f090c","sourcePort":"Show Label","targetId":"f082d998-6ed7-07c2-80bd-a1c0bf0cfdd8","targetPort":"mounted"}],"ports":[{"name":"Align Y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"group":"Alignment","plug":"input","index":0},{"name":"Value","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":1},{"name":"Value","type":{"name":"*","allowConnectionsOnly":true},"group":"Properties","plug":"input","index":1},{"name":"Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":1},{"name":"Changed","type":"signal","plug":"output","index":2},{"name":"Margin Top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margins","plug":"input","index":2},{"name":"Margin Bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margins","plug":"input","index":3},{"name":"Margin Left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margins","plug":"input","index":4},{"name":"Margin Right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margins","plug":"input","index":5},{"name":"Position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Layout","plug":"input","index":7},{"name":"Width","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":100,"group":"Dimensions","plug":"input","index":8},{"name":"Text","type":"*","group":"Colors","plug":"input","index":9},{"name":"Show Label","type":"boolean","default":true,"group":"Label","plug":"input","index":10},{"name":"Label","type":{"name":"string","multiline":true},"default":"Label","group":"Label","plug":"input","index":11}],"roots":["f006c30c-8f69-7d15-79ad-cbf1136aa685"],"metadata":{"canvasPos":{"x":564,"y":20}}},{"name":"/Time Picker","nodes":[{"id":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","type":"Group","parameters":{"height":{"value":40,"unit":"px"},"borderColor":"#999","flexDirection":"column","sizeMode":"contentHeight","borderWidth":{"value":2,"unit":"px"}},"ports":[],"children":[{"id":"3b86315f-c66a-3f72-ed2a-9bbd07cefbb3","type":"Text","parameters":{"textStyle":"Label Small","color":"Grey - 700","text":"Label","marginBottom":{"value":4,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"children":[]},{"id":"d4d52e3d-921d-c0ec-c716-26f8e9dfad52","type":"Group","parameters":{"sizeMode":"explicit","height":{"value":40,"unit":"px"}},"ports":[],"children":[{"id":"63ec1ead-da84-5d59-74bd-678c8079ec7b","type":"net.noodl.controls.textinput","parameters":{"useLabel":false,"placeholder":"HH:MM","alignY":"center","paddingLeft":{"value":40,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"iconIconSource":{"class":"material-icons","code":"keyboard_arrow_down"},"iconSize":{"value":20,"unit":"px"},"useIcon":true,"iconPlacement":"right"},"stateParameters":{"focused":{"iconColor":"Primary","iconIconSource":{"class":"material-icons","code":"keyboard_arrow_up"}}},"ports":[],"children":[]},{"id":"84cfc53a-2e4d-2044-3e7e-0299cde3fe6f","type":"Group","parameters":{"position":"absolute","sizeMode":"contentSize","alignY":"center"},"ports":[],"children":[{"id":"44a5343e-c9d7-9466-5a5f-177899ef41f9","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"access_time"},"iconSize":{"value":20,"unit":"px"},"iconColor":"Grey - 700","marginLeft":{"value":12,"unit":"px"}},"ports":[],"children":[]}]},{"id":"1bfa360f-df74-e91a-c8fd-95f44295662b","type":"Group","parameters":{"position":"absolute","alignY":"bottom","height":{"value":150,"unit":"px"},"transformY":{"value":100,"unit":"%"},"zIndex":100,"borderColor":"#999","sizeMode":"explicit","mounted":false,"alignX":"left"},"ports":[],"children":[{"id":"bb7e12eb-2e41-1ef9-5a75-94cd83106225","type":"Group","parameters":{"marginTop":{"value":4,"unit":"px"},"borderStyle":"solid","borderColor":"Primary","borderRadius":{"value":3,"unit":"px"},"sizeMode":"explicit","scrollEnabled":true,"backgroundColor":"#FFFFFF","borderWidth":{"value":1,"unit":"px"}},"ports":[],"children":[{"id":"cd6ab1a2-7482-4935-8817-f3135e36f0c9","type":"For Each","parameters":{"template":"/Time Picker/Time Picker Item"},"ports":[],"children":[]}]}]}]}]},{"id":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","type":"Javascript2","parameters":{"code":"function mobileAndTabletCheck() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n}\n\nfunction isMobile() {\n    return mobileAndTabletCheck()\n}\n\nfunction formatTime(_hours,_minutes) {\n    const hours = _hours!==undefined?_hours:0;\n    const minutes = _minutes!==undefined?_minutes:0;\n    return ((hours < 10)?('0' + hours):hours) + ':' + ((minutes < 10)?('0' + minutes):minutes)\n}\n\nfunction parseTime(_timeString) {\n    if(_timeString === undefined || _timeString.length === 0) \n        return\n\n    let timeString = _timeString.trim()\n    let hours,minutes\n\n    if(timeString.indexOf(':') !== -1) {\n        var parts = timeString.split(':')\n        hours = parseInt(parts[0])\n        minutes = parseInt(parts[1])\n    }\n    else {\n        if(timeString.length === 4) { // assume formate like 1130\n            hours = parseInt(timeString[0] + timeString[1])\n            minutes = parseInt(timeString[2] + timeString[3])\n        }\n        else if(timeString.length === 3) { // Assume format like 630\n            hours = parseInt(timeString[0])\n            minutes = parseInt(timeString[1] + timeString[2])\n        }\n        else {\n            let nbr = parseInt(timeString)\n            if(nbr >= 24) {\n                minutes = nbr\n                hours = 0\n            }\n            else {\n                hours = nbr\n                minutes = 0\n            }\n        }\n    }\n\n    return {hours,minutes}\n}\n\nvar timeInput\n\nScript.Signals.TextInputFocused = () => {\n    Component.Object.TextInputIsFocused = true\n\n    // If the text input is focused and we are not running on a mobile device\n    // launch the popup\n    if(!isMobile()) {\n        Script.Outputs.PopupMounted = true;\n\n    }\n}\n\nScript.Signals.TextInputBlurred = () => {\n    Component.Object.TextInputIsFocused = false\n    const time = parseTime(Script.Inputs.TimeString)\n    if(time) {\n        Component.Object.Hours = time.hours\n        Component.Object.Minutes = time.minutes\n        Script.Outputs.TimeSelected()\n    }\n\n    Script.Outputs.PopupMounted = false\n}\n\nScript.Signals.DidMount = () => {\n    if(Component.Object.Hours !== undefined || Component.Object.Minutes !== undefined) {\n        let formattedTime = formatTime(Component.Object.Hours,Component.Object.Minutes)\n        Component.Object['Formatted Time'] = formattedTime\n    }\n\n    Component.Object.on('change',(ev) => {\n        if(ev.name === 'Hours' || ev.name === 'Minutes') {\n            const hours = Component.Object.Hours\n            const minutes = Component.Object.Minutes\n\n            let formattedTime = formatTime(hours,minutes)\n            Component.Object['Formatted Time'] = formattedTime\n            \n            if(timeInput !== undefined) {\n                timeInput.value = formattedTime\n            }\n\n\n        }\n    })\n\n    if(isMobile()) {\n        // On Mobile create a native date input hidden\n        // under the icon, clicking it will show the\n        // native picker\n        const elem = Script.Inputs.TextInput.getDOMElement()\n\n        timeInput = document.createElement('input')\n        timeInput.style.cssText = `\n            display: block;\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            cursor: pointer;\n            min-width: 100%;\n            margin: 0;\n            padding: 0;\n            border: 0;\n            border-radius: 0;\n        `;\n\n        elem.parentNode.appendChild(timeInput)\n\n        timeInput.type = \"time\"\n\n        timeInput.onchange = () => {\n            const time = parseTime(timeInput.value)\n            Component.Object.Hours = time.hours\n            Component.Object.Minutes = time.minutes\n            Script.Outputs.TimeSelected()\n        }\n    }\n}\n\nScript.Setters.TimeString = () => {\n    if(Component.Object.TextInputIsFocused) {\n        const time = parseTime(Script.Inputs.TimeString)\n\n        if(timeInput !== undefined) {\n            timeInput.value = formatTime(time.hours,time.minutes)\n        }\n    }\n}\n\nScript.Signals.QuickPickClicked = () => {\n    const quickPick = Noodl.Objects[Script.Inputs.ClickedItemId]\n    Script.Outputs.BlurTextInput()\n    // Allow the text input to blur\n    setTimeout(() => {\n        const time = parseTime(quickPick.Label)\n        Component.Object.Hours = time.hours\n        Component.Object.Minutes = time.minutes\n        Script.Outputs.TimeSelected()\n    })\n}"},"ports":[{"name":"TextInputFocused","plug":"input","type":{"name":"signal"},"group":"Inputs","index":5},{"name":"TextInputBlurred","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"DidMount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":7},{"name":"QuickPickClicked","plug":"input","type":{"name":"signal"},"group":"Inputs","index":8},{"name":"TimeString","displayName":"TimeString","plug":"input","type":"*","group":"Inputs","index":9},{"name":"TextInput","displayName":"TextInput","plug":"input","type":"*","group":"Inputs","index":10},{"name":"ClickedItemId","displayName":"ClickedItemId","plug":"input","type":"*","group":"Inputs","index":11},{"name":"TimeSelected","displayName":"TimeSelected","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"BlurTextInput","displayName":"BlurTextInput","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"PopupMounted","displayName":"PopupMounted","plug":"output","type":"*","group":"Outputs","index":14}],"children":[]},{"id":"21a86a8a-97e2-a3b1-34fd-82a2e962833c","type":"net.noodl.ComponentObject","parameters":{"properties":"Hours,Formatted Time,Minutes"},"ports":[],"children":[]},{"id":"28678fed-e564-7755-bb24-9760b077b267","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"e6ffade1-78da-edab-b51c-ae12f07386d0","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"9dba42f8-a321-fbf7-1922-52a6e36bfe37","type":"JavaScriptFunction","parameters":{"functionScript":"const items = []\n\nlet idx = 0\nfor(let i = 0; i < 24; i++)\n    for(let j = 0; j < 4; j++)\n        items[idx++] = {Label:((i<10)?('0' + i):i) + ':' + (((j*15)<10)?('0' + (j*15)):(j*15))}\n\nOutputs.Items = items"},"ports":[{"name":"out-Items","displayName":"Items","plug":"output","type":"*","group":"Outputs","index":4}],"children":[]},{"id":"cf2bd7f1-75ac-3f7c-e8d2-c477723bace7","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Blur()"},"ports":[{"name":"out-Blur","displayName":"Blur","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"ad7fef37-5600-eb55-b9e0-7f897e3477be","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"wlgw","label":"Hours"},{"id":"lf8t","label":"Minutes"}],"intype-Hours":"number","intype-Minutes":"number","functionScript":"Outputs.Hours = Inputs.Hours\nOutputs.Minutes = Inputs.Minutes"},"ports":[{"name":"intype-Hours","displayName":"Type","editorName":"Hours | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"wlgw","index":4},{"name":"in-Hours","displayName":"Hours","plug":"input","type":"number","group":"Inputs","index":5},{"name":"intype-Minutes","displayName":"Type","editorName":"Minutes | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"lf8t","index":6},{"name":"in-Minutes","displayName":"Minutes","plug":"input","type":"number","group":"Inputs","index":7},{"name":"out-Hours","displayName":"Hours","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-Minutes","displayName":"Minutes","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]}],"connections":[{"sourceId":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","sourcePort":"didMount","targetId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","targetPort":"DidMount"},{"sourceId":"63ec1ead-da84-5d59-74bd-678c8079ec7b","sourcePort":"onFocus","targetId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","targetPort":"TextInputFocused"},{"sourceId":"63ec1ead-da84-5d59-74bd-678c8079ec7b","sourcePort":"onBlur","targetId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","targetPort":"TextInputBlurred"},{"sourceId":"21a86a8a-97e2-a3b1-34fd-82a2e962833c","sourcePort":"value-Hours","targetId":"e6ffade1-78da-edab-b51c-ae12f07386d0","targetPort":"Hours"},{"sourceId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","sourcePort":"BlurTextInput","targetId":"63ec1ead-da84-5d59-74bd-678c8079ec7b","targetPort":"blur"},{"sourceId":"21a86a8a-97e2-a3b1-34fd-82a2e962833c","sourcePort":"value-Formatted Time","targetId":"63ec1ead-da84-5d59-74bd-678c8079ec7b","targetPort":"startValue"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Align Y","targetId":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","targetPort":"alignY"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Align X","targetId":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","targetPort":"alignX"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Margin Top","targetId":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","targetPort":"marginTop"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Margin Bottom","targetId":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","targetPort":"marginBottom"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Margin Left","targetId":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","targetPort":"marginLeft"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Margin Right","targetId":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","targetPort":"marginRight"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Position","targetId":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","targetPort":"position"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Width","targetId":"2f2cec0e-cc3e-6027-b505-3491bf5ceafb","targetPort":"width"},{"sourceId":"21a86a8a-97e2-a3b1-34fd-82a2e962833c","sourcePort":"value-Minutes","targetId":"e6ffade1-78da-edab-b51c-ae12f07386d0","targetPort":"Minutes"},{"sourceId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","sourcePort":"PopupMounted","targetId":"1bfa360f-df74-e91a-c8fd-95f44295662b","targetPort":"mounted"},{"sourceId":"63ec1ead-da84-5d59-74bd-678c8079ec7b","sourcePort":"onTextChanged","targetId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","targetPort":"TimeString"},{"sourceId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","sourcePort":"TimeSelected","targetId":"e6ffade1-78da-edab-b51c-ae12f07386d0","targetPort":"Changed"},{"sourceId":"cd6ab1a2-7482-4935-8817-f3135e36f0c9","sourcePort":"itemActionItemId","targetId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","targetPort":"ClickedItemId"},{"sourceId":"9dba42f8-a321-fbf7-1922-52a6e36bfe37","sourcePort":"out-Items","targetId":"cd6ab1a2-7482-4935-8817-f3135e36f0c9","targetPort":"items"},{"sourceId":"cd6ab1a2-7482-4935-8817-f3135e36f0c9","sourcePort":"itemOutputSignal-Click","targetId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","targetPort":"QuickPickClicked"},{"sourceId":"63ec1ead-da84-5d59-74bd-678c8079ec7b","sourcePort":"onEnter","targetId":"cf2bd7f1-75ac-3f7c-e8d2-c477723bace7","targetPort":"run"},{"sourceId":"cf2bd7f1-75ac-3f7c-e8d2-c477723bace7","sourcePort":"out-Blur","targetId":"63ec1ead-da84-5d59-74bd-678c8079ec7b","targetPort":"blur"},{"sourceId":"28678fed-e564-7755-bb24-9760b077b267","sourcePort":"Hours","targetId":"ad7fef37-5600-eb55-b9e0-7f897e3477be","targetPort":"in-Hours"},{"sourceId":"28678fed-e564-7755-bb24-9760b077b267","sourcePort":"Minutes","targetId":"ad7fef37-5600-eb55-b9e0-7f897e3477be","targetPort":"in-Minutes"},{"sourceId":"ad7fef37-5600-eb55-b9e0-7f897e3477be","sourcePort":"out-Hours","targetId":"21a86a8a-97e2-a3b1-34fd-82a2e962833c","targetPort":"value-Hours"},{"sourceId":"ad7fef37-5600-eb55-b9e0-7f897e3477be","sourcePort":"out-Minutes","targetId":"21a86a8a-97e2-a3b1-34fd-82a2e962833c","targetPort":"value-Minutes"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Label","targetId":"3b86315f-c66a-3f72-ed2a-9bbd07cefbb3","targetPort":"text"},{"sourceId":"72cd73e0-0561-9249-0c9e-978f5b9ea5ad","sourcePort":"Show Label","targetId":"3b86315f-c66a-3f72-ed2a-9bbd07cefbb3","targetPort":"mounted"},{"sourceId":"63ec1ead-da84-5d59-74bd-678c8079ec7b","sourcePort":"this","targetId":"65288eb5-8deb-cf89-9aa3-d2145b85e4b8","targetPort":"TextInput"}],"ports":[{"name":"Align Y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"group":"Alignment","plug":"input","index":0},{"name":"Hours","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":1},{"name":"Hours","type":"number","group":"Inputs","plug":"input","index":1},{"name":"Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":1},{"name":"Changed","type":"signal","plug":"output","index":2},{"name":"Minutes","type":"number","group":"Inputs","plug":"input","index":2},{"name":"Margin Top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margins","plug":"input","index":2},{"name":"Minutes","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":3},{"name":"Margin Bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margins","plug":"input","index":3},{"name":"Margin Left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margins","plug":"input","index":4},{"name":"Margin Right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margins","plug":"input","index":5},{"name":"Position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Layout","plug":"input","index":7},{"name":"Width","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":100,"group":"Dimensions","plug":"input","index":8},{"name":"Label","type":{"name":"string","multiline":true},"default":"Label","group":"Label","plug":"input","index":9},{"name":"Show Label","type":"boolean","default":true,"group":"Label","plug":"input","index":10}],"roots":["2f2cec0e-cc3e-6027-b505-3491bf5ceafb"],"metadata":{"canvasPos":{"x":564,"y":20}}},{"name":"/Time Picker/Time Picker Item","nodes":[{"id":"88dd268f-0e2a-b03d-c446-ca99b732b985","type":"Group","parameters":{"height":{"value":20,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"sizeMode":"contentHeight"},"stateParameters":{"hover":{"backgroundColor":"Grey - 300"}},"ports":[],"children":[{"id":"b87ac8a0-dfbd-f1b1-1df2-73420853588f","type":"Text","parameters":{"sizeMode":"explicit","textAlignY":"center","textAlignX":"center","styleCss":"cursor: pointer;","textStyle":"Body Medium","color":"Grey - 900"},"ports":[],"children":[]}]},{"id":"e2df7162-bb0c-7e37-7913-9aeaf896e233","type":"Model2","parameters":{"idSource":"foreach","properties":"Label"},"ports":[],"children":[]},{"id":"5cb898f1-84a0-a8ef-f4da-e4974badadad","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"e2df7162-bb0c-7e37-7913-9aeaf896e233","sourcePort":"prop-Label","targetId":"b87ac8a0-dfbd-f1b1-1df2-73420853588f","targetPort":"text"},{"sourceId":"88dd268f-0e2a-b03d-c446-ca99b732b985","sourcePort":"pointerDown","targetId":"5cb898f1-84a0-a8ef-f4da-e4974badadad","targetPort":"Click"}],"ports":[{"name":"Click","type":"signal","plug":"output","index":1}],"roots":["88dd268f-0e2a-b03d-c446-ca99b732b985"],"metadata":{"canvasPos":{"x":564,"y":20}}}]